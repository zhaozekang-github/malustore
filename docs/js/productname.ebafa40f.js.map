{"version":3,"file":"js/productname.ebafa40f.js","mappings":"8gBAWA,MAAMA,GAAS,UAiBTC,EAAS,KACbD,EAAOE,IAAI,EAAC,E,uNCvBd,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,irBC2CA,MAAMC,GAAQ,EAAAC,EAAA,KAGRC,GAAQ,UAGRC,GAAQ,QAAS,CACrBC,OAAQ,CACNC,kBAAmB,OAIjB,OAAED,IAAW,QAAOD,IAG1B,SAAUG,UACR,MAAM,GAAEC,GAAOL,EAAMM,QACf,KAAEC,SAAe,QAAUF,GACjCE,EAAKJ,kBAAoBI,EAAKJ,kBAAkBK,KAAIC,IAAK,QAAOA,KAChER,EAAMC,OAASK,KAGjB,MAAMG,EAAO,KACXhB,EAAA,OAAY,QAAO,EAIfiB,EAAgBP,UACpB,MAAM,WAAEQ,SAAqB,QAAQ,CAAEC,WAAY,EAAGC,QAASb,EAAMC,OAAOY,UAC1D,KAAdF,GACF,YAAc,QAGhBd,EAAMiB,M,2pCC9ER,MAAMlB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,8FCGO,SAASmB,EAAUX,GACxB,OAAO,QAAU,iBAAiBA,IACpC,CAEO,SAASY,IACd,OAAO,QAAU,cACnB,C","sources":["webpack://vue3-newbee/./src/components/SimpleHeader.vue","webpack://vue3-newbee/./src/components/SimpleHeader.vue?b208","webpack://vue3-newbee/./src/views/ProductDetail.vue","webpack://vue3-newbee/./src/views/ProductDetail.vue?f49c","webpack://vue3-newbee/./src/service/good.js"],"sourcesContent":["<template>\r\n  <header class=\"simple-header van-hairline--bottom\">\r\n    <i v-if=\"!isback\" class=\"nbicon nbfanhui\" @click=\"goBack\"></i>\r\n    <i v-else>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>\r\n    <div class=\"simple-header-name\">{{ name }}</div>\r\n    <i class=\"nbicon nbmore\"></i>\r\n  </header>\r\n</template>\r\n<script setup>\r\nimport { ref, defineProps } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nconst router = useRouter()\r\n\r\ndefineProps({\r\n  name: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  back: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  noback: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\nconst goBack = () => {\r\n  router.go(-1)\r\n}\r\n\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"../common/style/mixin\";\r\n\r\n.simple-header {\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0;\r\n  z-index: 10000;\r\n  .fj();\r\n  .wh(100%, 44px);\r\n  line-height: 44px;\r\n  padding: 0 10px;\r\n  .boxSizing();\r\n  color: #252525;\r\n  background: #fff;\r\n\r\n  .simple-header-name {\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n.block {\r\n  height: 44px;\r\n}\r\n</style>","import script from \"./SimpleHeader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SimpleHeader.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SimpleHeader.vue?vue&type=style&index=0&id=b560eeda&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\网页项目\\\\项目\\\\vue3-newbee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b560eeda\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"product-detail\">\r\n    <s-header :name=\"'商品详情'\"></s-header>\r\n    <div class=\"detail-content\">\r\n      <div class=\"detail-swipe-wrap\">\r\n        <van-swipe class=\"my-swipe\" indicator-color=\"#1baeae\">\r\n          <van-swipe-item v-for=\"(item, index) in detail.goodsCarouselList\" :key=\"index\">\r\n            <img :src=\"item\" alt=\"\">\r\n          </van-swipe-item>\r\n        </van-swipe>\r\n      </div>\r\n      <div class=\"product-info\">\r\n        <div class=\"product-title\">\r\n          {{ detail.goodsName || '' }}\r\n        </div>\r\n        <div class=\"product-desc\">免邮费 顺丰快递</div>\r\n        <div class=\"product-price\">\r\n          <span>¥{{ detail.sellingPrice || '' }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"product-intro\">\r\n        <ul>\r\n          <li>概述</li>\r\n          <li>参数</li>\r\n          <li>安装服务</li>\r\n          <li>常见问题</li>\r\n        </ul>\r\n        <div class=\"product-content\" v-html=\"detail.goodsDetailContent || ''\"></div>\r\n      </div>\r\n    </div>\r\n    <van-action-bar>\r\n      <van-action-bar-icon icon=\"chat-o\" text=\"客服\" />\r\n      <van-action-bar-icon icon=\"cart-o\" :badge=\"!count ? '' : count\" @click=\"goTo()\" text=\"购物车\" />\r\n      <van-action-bar-button type=\"warning\" @click=\"handleAddCart\" text=\"加入购物车\" />\r\n      <van-action-bar-button type=\"danger\" @click=\"goToCart\" text=\"立即购买\" />\r\n    </van-action-bar>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { reactive, onMounted, onBeforeMount, computed, toRefs, nextTick } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { getDetail } from '../service/good'\r\nimport { addCart } from \"../service/cart\"\r\nimport sHeader from \"../components/SimpleHeader.vue\"\r\nimport { Toast } from \"vant\"\r\nimport { prefix } from '@/common/js/utils';\r\nimport router from '@/router';\r\n// 引入pinia store \r\nimport useStore from \"../store/useStore\"\r\nimport { storeToRefs } from 'pinia'\r\n\r\nconst store = useStore()\r\n\r\n\r\nconst route = useRoute()\r\n// 前进后退再用\r\n// const router = useRouter()\r\nconst state = reactive({\r\n  detail: {\r\n    goodsCarouselList: []\r\n  }\r\n})\r\n\r\nconst { detail } = toRefs(state)\r\n\r\n\r\nonMounted(async () => {\r\n  const { id } = route.params\r\n  const { data } = await getDetail(id)\r\n  data.goodsCarouselList = data.goodsCarouselList.map(i => prefix(i))\r\n  state.detail = data\r\n})\r\n\r\nconst goTo = () => {\r\n  router.push('/cart')\r\n}\r\n\r\n// 添加购物车\r\nconst handleAddCart = async () => {\r\n  const { resultCode } = await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\r\n  if (resultCode == 200) {\r\n    Toast.success('添加成功')\r\n  }\r\n  // 分发给store\r\n  store.cart\r\n}\r\n\r\n\r\n\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import '../common/style/mixin';\r\n\r\n.product-detail {\r\n  .detail-header {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 10000;\r\n    .fj();\r\n    .wh(100%, 44px);\r\n    line-height: 44px;\r\n    padding: 0 10px;\r\n    .boxSizing();\r\n    color: #252525;\r\n    background: #fff;\r\n    border-bottom: 1px solid #dcdcdc;\r\n\r\n    .product-name {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n\r\n  .detail-content {\r\n    height: calc(100vh - 50px);\r\n    overflow: hidden;\r\n    overflow-y: auto;\r\n\r\n    .detail-swipe-wrap {\r\n      .my-swipe .van-swipe-item {\r\n        img {\r\n          width: 100%;\r\n          // height: 300px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .product-info {\r\n      padding: 0 10px;\r\n\r\n      .product-title {\r\n        font-size: 18px;\r\n        text-align: left;\r\n        color: #333;\r\n      }\r\n\r\n      .product-desc {\r\n        font-size: 14px;\r\n        text-align: left;\r\n        color: #999;\r\n        padding: 5px 0;\r\n      }\r\n\r\n      .product-price {\r\n        .fj();\r\n\r\n        span:nth-child(1) {\r\n          color: #F63515;\r\n          font-size: 22px;\r\n        }\r\n\r\n        span:nth-child(2) {\r\n          color: #999;\r\n          font-size: 16px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .product-intro {\r\n      width: 100%;\r\n      padding-bottom: 50px;\r\n\r\n      ul {\r\n        .fj();\r\n        width: 100%;\r\n        margin: 10px 0;\r\n\r\n        li {\r\n          flex: 1;\r\n          padding: 5px 0;\r\n          text-align: center;\r\n          font-size: 15px;\r\n          border-right: 1px solid #999;\r\n          box-sizing: border-box;\r\n\r\n          &:last-child {\r\n            border-right: none;\r\n          }\r\n        }\r\n      }\r\n\r\n      .product-content {\r\n        padding: 0 20px;\r\n\r\n        img {\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .van-action-bar-button--warning {\r\n    background: linear-gradient(to right, #6bd8d8, @primary)\r\n  }\r\n\r\n  .van-action-bar-button--danger {\r\n    background: linear-gradient(to right, #0dc3c3, #098888)\r\n  }\r\n}\r\n</style>","import script from \"./ProductDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=5986d5c8&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\网页项目\\\\项目\\\\vue3-newbee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5986d5c8\"]])\n\nexport default __exports__","/**\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n */\n\nimport axios from '../utils/axios'\n\nexport function getDetail(id) {\n  return axios.get(`/goods/detail/${id}`);\n}\n\nexport function getCategory() {\n  return axios.get('/categories');\n}\n\nexport function search(params) {\n  return axios.get('/search', { params });\n}\n\n"],"names":["router","goBack","go","__exports__","store","useStore","route","state","detail","goodsCarouselList","async","id","params","data","map","i","goTo","handleAddCart","resultCode","goodsCount","goodsId","cart","getDetail","getCategory"],"sourceRoot":""}