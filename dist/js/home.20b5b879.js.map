{"version":3,"file":"js/home.20b5b879.js","mappings":"mUACI,QAIY,GAJDA,MAAM,WAAYC,SAAU,IAAM,kBAAgB,W,mBACzC,IAA6B,G,aAA7C,QAEiB,mBAFuB,EAAAC,MAAI,CAApBC,EAAMC,M,WAA9B,QAEiB,GAF8BC,IAAKD,GAAK,C,kBACrD,IAAoE,EAApE,OAAoE,OAA9DE,IAAKH,EAAKI,YAAaC,IAAI,GAAI,QAAK,GAAE,EAAAC,KAAKN,EAAKO,c,0CAKlE,OACIC,MAAO,CACHT,KAAMU,OAEVC,QAAS,CACLJ,KAAKK,GACDC,OAAOC,KAAKF,EAChB,GAEJG,UAEA,G,UCZJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,Q,oBCPO,SAASC,IACZ,OAAOC,EAAA,MAAU,eACrB,C,k5BC0EA,MAAMC,GAAS,UACTC,GAAQ,QAAS,CACnBC,WAAY,GACZC,SAAS,EACTC,KAAM,GACNC,cAAc,EACdC,WAAY,GACZC,WAAY,GACZC,aAAc,CACV,CACIC,KAAM,OACNC,OAAQ,mEACRC,WAAY,QACb,CACCF,KAAM,OACNC,OAAQ,mEACRC,WAAY,QACb,CACCF,KAAM,MACNC,OAAQ,4EACRC,WAAY,QACb,CACCF,KAAM,OACNC,OAAQ,mEACRC,WAAY,QACb,CACCF,KAAM,OACNC,OAAQ,mEACRC,WAAY,QACb,CACCF,KAAM,OACNC,OAAQ,mEACRC,WAAY,QACb,CACCF,KAAM,QACNC,OAAQ,oDACRC,WAAY,QACb,CACCF,KAAM,KACNC,OAAQ,mEACRC,WAAY,QACb,CACCF,KAAM,KACNC,OAAQ,mEACRC,WAAY,QACb,CACCF,KAAM,KACNC,OAAQ,mEACRC,WAAY,SAGpBC,SAAS,KAGP,WACFV,EAAU,QACVC,EAAO,KACPC,EAAI,WACJE,EAAU,WACVC,EAAU,aACVF,EAAY,aACZG,EAAY,QACZI,IACA,QAAOX,IAEX,SAAUY,UAON,YAAc,CACVC,QAAS,SACTC,aAAa,IAEjB,MAAM,KAAEC,SAAelB,IACvBG,EAAMC,WAAac,EAAKC,UACxBhB,EAAMK,WAAaU,EAAKV,WACxBL,EAAMG,KAAOY,EAAKE,WAClBjB,EAAMM,WAAaS,EAAKG,iBACxBlB,EAAMW,SAAU,EAChB,WAAY,KAGhB,SAAS,KACLnB,OAAO2B,iBAAiB,UAAU,KAC9B,IAAIC,EAAY5B,OAAO6B,aAAeC,SAASC,gBAAgBH,WAAaE,SAASE,KAAKJ,UACxEpB,EAAMI,aAAxBgB,EAAY,GAAuD,GACtE,IAGL,MAAMK,EAAc7C,IAChBmB,EAAO2B,KAAK,CAAEC,KAAM,YAAY/C,EAAKgD,WAAW,E,w3ECrKpD,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue3-newbee/./src/components/Swiper.vue","webpack://vue3-newbee/./src/components/Swiper.vue?494f","webpack://vue3-newbee/./src/service/home.js","webpack://vue3-newbee/./src/views/Home.vue","webpack://vue3-newbee/./src/views/Home.vue?9051"],"sourcesContent":["<template>\r\n    <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"#1baeae\">\r\n        <van-swipe-item v-for=\"(item, index) in list\" :key=\"index\">\r\n            <img :src=\"item.carouselUrl\" alt=\"\" @click=\"goTo(item.redirectUrl)\">\r\n        </van-swipe-item>\r\n    </van-swipe>\r\n</template>\r\n<script>\r\nexport default {\r\n    props: {\r\n        list: Array\r\n    },\r\n    methods: {\r\n        goTo(url) {\r\n            window.open(url)\r\n        }\r\n    },\r\n    mounted() {\r\n        // console.log(this.list);\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    .my-swipe {\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n</style>","import { render } from \"./Swiper.vue?vue&type=template&id=0fa855b1&scoped=true\"\nimport script from \"./Swiper.vue?vue&type=script&lang=js\"\nexport * from \"./Swiper.vue?vue&type=script&lang=js\"\n\nimport \"./Swiper.vue?vue&type=style&index=0&id=0fa855b1&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\网页项目\\\\项目\\\\vue3-newbee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0fa855b1\"]])\n\nexport default __exports__","import axios from '../utils/axios'\r\n\r\nexport function getHome() {\r\n    return axios.get('/index-infos');\r\n}\r\n","<template>\r\n    <div>\r\n        <!-- 头部 -->\r\n        <header class=\"home-header wrap\" :class=\"{ 'active': state.headerScroll }\">\r\n            <router-link tag=\"i\" to=\"./category\"><i class=\"nbicon nbmenu2\"></i></router-link>\r\n            <div class=\"header-search\">\r\n                <span class=\"app-name\">码路严选</span>\r\n                <i class=\"iconfont icon-search\"></i>\r\n                <router-link tag=\"span\" class=\"search-title\" to=\"./product-list?from=home\">山河无恙，人间皆安</router-link>\r\n            </div>\r\n            <router-link class=\"login\" tag=\"span\" to=\"./login\" v-if=\"!isLogin\">登录</router-link>\r\n            <router-link class=\"login\" tag=\"span\" to=\"./user\" v-else>\r\n                <van-icon name=\"manager-o\" />\r\n            </router-link>\r\n        </header>\r\n        <!-- 轮播图 -->\r\n        <swiper :list=\"swiperList\"></swiper>\r\n        <!-- 小图标 -->\r\n        <div class=\"category-list\">\r\n            <div v-for=\"item in categoryList\" v-bind:key=\"item.categoryId\" @click=\"tips\">\r\n                <img :src=\"item.imgUrl\">\r\n                <span>{{ item.name }}</span>\r\n            </div>\r\n        </div>\r\n        <!-- 商品列表 -->\r\n        <div class=\"good\">\r\n            <header class=\"good-header\">新品上线</header>\r\n            <van-skeleton title :row=\"3\" :loading=\"loading\">\r\n                <div class=\"good-box\">\r\n                    <div class=\"good-item\" v-for=\"item in newGoodses\" :key=\"item.goodsId\" @click=\"goToDetail(item)\">\r\n                        <img :src=\"$filters.prefix(item.goodsCoverImg)\" alt=\"\">\r\n                        <div class=\"good-desc\">\r\n                            <div class=\"title\">{{ item.goodsName }}</div>\r\n                            <div class=\"price\">¥ {{ item.sellingPrice }}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </van-skeleton>\r\n        </div>\r\n        <div class=\"good\">\r\n            <header class=\"good-header\">热门商品</header>\r\n            <van-skeleton title :row=\"3\" :loading=\"loading\">\r\n                <div class=\"good-box\">\r\n                    <div class=\"good-item\" v-for=\"item in hots\" :key=\"item.goodsId\" @click=\"goToDetail(item)\">\r\n                        <img :src=\"$filters.prefix(item.goodsCoverImg)\" alt=\"\">\r\n                        <div class=\"good-desc\">\r\n                            <div class=\"title\">{{ item.goodsName }}</div>\r\n                            <div class=\"price\">¥ {{ item.sellingPrice }}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </van-skeleton>\r\n        </div>\r\n        <div class=\"good\" :style=\"{ paddingBottom: '100px' }\">\r\n            <header class=\"good-header\">最新推荐</header>\r\n            <van-skeleton title :row=\"3\" :loading=\"loading\">\r\n                <div class=\"good-box\">\r\n                    <div class=\"good-item\" v-for=\"item in recommends\" :key=\"item.goodsId\" @click=\"goToDetail(item)\">\r\n                        <img :src=\"$filters.prefix(item.goodsCoverImg)\" alt=\"\">\r\n                        <div class=\"good-desc\">\r\n                            <div class=\"title\">{{ item.goodsName }}</div>\r\n                            <div class=\"price\">¥ {{ item.sellingPrice }}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </van-skeleton>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script setup>\r\nimport swiper from \"@/components/Swiper.vue\"\r\nimport { reactive, onMounted, toRefs, nextTick } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { getHome } from '@/service/home'\r\nimport { Toast } from 'vant'\r\n\r\n\r\n\r\nconst router = useRouter()\r\nconst state = reactive({\r\n    swiperList: [], // 轮播图列表\r\n    isLogin: false, // 是否已登录\r\n    hots: [],\r\n    headerScroll: false,\r\n    newGoodses: [],\r\n    recommends: [],\r\n    categoryList: [\r\n        {\r\n            name: '新蜂超市',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E8%B6%85%E5%B8%82%402x.png',\r\n            categoryId: 100001\r\n        }, {\r\n            name: '新蜂服饰',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E6%9C%8D%E9%A5%B0%402x.png',\r\n            categoryId: 100003\r\n        }, {\r\n            name: '全球购',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E5%85%A8%E7%90%83%E8%B4%AD%402x.png',\r\n            categoryId: 100002\r\n        }, {\r\n            name: '新蜂生鲜',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E7%94%9F%E9%B2%9C%402x.png',\r\n            categoryId: 100004\r\n        }, {\r\n            name: '新蜂到家',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E5%88%B0%E5%AE%B6%402x.png',\r\n            categoryId: 100005\r\n        }, {\r\n            name: '充值缴费',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E5%85%85%E5%80%BC%402x.png',\r\n            categoryId: 100006\r\n        }, {\r\n            name: '9.9元拼',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/9.9%402x.png',\r\n            categoryId: 100007\r\n        }, {\r\n            name: '领劵',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E9%A2%86%E5%88%B8%402x.png',\r\n            categoryId: 100008\r\n        }, {\r\n            name: '省钱',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E7%9C%81%E9%92%B1%402x.png',\r\n            categoryId: 100009\r\n        }, {\r\n            name: '全部',\r\n            imgUrl: 'https://s.yezgea02.com/1604041127880/%E5%85%A8%E9%83%A8%402x.png',\r\n            categoryId: 100010\r\n        }\r\n    ],\r\n    loading: true\r\n})\r\n\r\nconst {\r\n    swiperList, // 轮播图列表\r\n    isLogin, // 是否已登录\r\n    hots,\r\n    newGoodses,\r\n    recommends,\r\n    headerScroll,\r\n    categoryList,\r\n    loading\r\n} = toRefs(state)\r\n\r\nonMounted(async () => {\r\n    // const token = getLocal('token')\r\n    // if (token) {\r\n    //     state.isLogin = true\r\n    //     // 获取购物车数据.\r\n    //     store.dispatch('updateCart')\r\n    // }\r\n    Toast.loading({\r\n        message: '加载中...',\r\n        forbidClick: true\r\n    });\r\n    const { data } = await getHome()\r\n    state.swiperList = data.carousels\r\n    state.newGoodses = data.newGoodses\r\n    state.hots = data.hotGoodses\r\n    state.recommends = data.recommendGoodses\r\n    state.loading = false\r\n    Toast.clear()\r\n})\r\n\r\nnextTick(() => {\r\n    window.addEventListener('scroll', () => {\r\n        let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\r\n        scrollTop > 100 ? state.headerScroll = true : state.headerScroll = false\r\n    })\r\n})\r\n\r\nconst goToDetail = (item) => {\r\n    router.push({ path: `/product/${item.goodsId}` })\r\n}\r\n\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"../common/style/mixin.less\";\r\n\r\n.home-header {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    .wh(100%, 50px);\r\n    .fj();\r\n    line-height: 50px;\r\n    padding: 0 15px;\r\n    .boxSizing();\r\n    font-size: 15px;\r\n    color: #fff;\r\n    z-index: 10000;\r\n\r\n    .nbmenu2 {\r\n        color: @primary;\r\n    }\r\n\r\n    &.active {\r\n        background: @primary;\r\n\r\n        .nbmenu2 {\r\n            color: #fff;\r\n        }\r\n\r\n        .login {\r\n            color: #fff;\r\n        }\r\n    }\r\n\r\n    .header-search {\r\n        display: flex;\r\n        .wh(74%, 20px);\r\n        line-height: 20px;\r\n        margin: 10px 0;\r\n        padding: 5px 0;\r\n        color: #232326;\r\n        background: rgba(255, 255, 255, .7);\r\n        border-radius: 20px;\r\n\r\n        .app-name {\r\n            padding: 0 10px;\r\n            color: @primary;\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n            border-right: 1px solid #666;\r\n        }\r\n\r\n        .icon-search {\r\n            padding: 0 10px;\r\n            font-size: 17px;\r\n        }\r\n\r\n        .search-title {\r\n            font-size: 12px;\r\n            color: #666;\r\n            line-height: 21px;\r\n        }\r\n    }\r\n\r\n    .icon-iconyonghu {\r\n        color: #fff;\r\n        font-size: 22px;\r\n    }\r\n\r\n    .login {\r\n        color: @primary;\r\n        line-height: 52px;\r\n\r\n        .van-icon-manager-o {\r\n            font-size: 20px;\r\n            vertical-align: -3px;\r\n        }\r\n    }\r\n}\r\n\r\n.category-list {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    flex-wrap: wrap;\r\n    width: 100%;\r\n    padding-bottom: 13px;\r\n\r\n    div {\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 20%;\r\n        text-align: center;\r\n\r\n        img {\r\n            .wh(36px, 36px);\r\n            margin: 13px auto 8px auto;\r\n        }\r\n    }\r\n}\r\n\r\n.good {\r\n    .good-header {\r\n        background: #f9f9f9;\r\n        height: 50px;\r\n        line-height: 50px;\r\n        text-align: center;\r\n        color: @primary;\r\n        font-size: 16px;\r\n        font-weight: 500;\r\n    }\r\n\r\n    .good-box {\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        flex-wrap: wrap;\r\n\r\n        .good-item {\r\n            box-sizing: border-box;\r\n            width: 50%;\r\n            border-bottom: 1PX solid #e9e9e9;\r\n            padding: 10px 10px;\r\n\r\n            img {\r\n                display: block;\r\n                width: 120px;\r\n                margin: 0 auto;\r\n            }\r\n\r\n            .good-desc {\r\n                text-align: center;\r\n                font-size: 14px;\r\n                padding: 10px 0;\r\n\r\n                .title {\r\n                    color: #222333;\r\n                }\r\n\r\n                .price {\r\n                    color: @primary;\r\n                }\r\n            }\r\n\r\n            &:nth-child(2n + 1) {\r\n                border-right: 1PX solid #e9e9e9;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.floor-list {\r\n    width: 100%;\r\n    padding-bottom: 50px;\r\n\r\n    .floor-head {\r\n        width: 100%;\r\n        height: 40px;\r\n        background: #F6F6F6;\r\n    }\r\n\r\n    .floor-content {\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        flex-wrap: wrap;\r\n        width: 100%;\r\n        .boxSizing();\r\n\r\n        .floor-category {\r\n            width: 50%;\r\n            padding: 10px;\r\n            border-right: 1px solid #dcdcdc;\r\n            border-bottom: 1px solid #dcdcdc;\r\n            .boxSizing();\r\n\r\n            &:nth-child(2n) {\r\n                border-right: none;\r\n            }\r\n\r\n            p {\r\n                font-size: 17px;\r\n                color: #333;\r\n\r\n                &:nth-child(2) {\r\n                    padding: 5px 0;\r\n                    font-size: 13px;\r\n                    color: @primary;\r\n                }\r\n            }\r\n\r\n            .floor-products {\r\n                .fj();\r\n                width: 100%;\r\n\r\n                img {\r\n                    .wh(65px, 65px);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import script from \"./Home.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Home.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=9e41a4b0&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\网页项目\\\\项目\\\\vue3-newbee\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9e41a4b0\"]])\n\nexport default __exports__"],"names":["class","autoplay","list","item","index","key","src","carouselUrl","alt","goTo","redirectUrl","props","Array","methods","url","window","open","mounted","__exports__","render","getHome","axios","router","state","swiperList","isLogin","hots","headerScroll","newGoodses","recommends","categoryList","name","imgUrl","categoryId","loading","async","message","forbidClick","data","carousels","hotGoodses","recommendGoodses","addEventListener","scrollTop","pageYOffset","document","documentElement","body","goToDetail","push","path","goodsId"],"sourceRoot":""}